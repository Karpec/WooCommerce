(()=>{"use strict";const e=window.wc.blocksCheckout,t=window.React,a=window.wp.element,o=window.wc.wcSettings,c=window.wp.data,{optInDefaultText:i}=(0,o.getSetting)("packeta_data",""),n=JSON.parse('{"apiVersion":2,"name":"packeta/checkout-widget","version":"2.0.0","title":"Newsletter Subscription!","category":"woocommerce","description":"Adds a newsletter subscription checkbox to the checkout.","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-contact-information-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}},"text":{"type":"string","source":"html","selector":".wp-block-packeta-checkout-widget","default":""}},"textdomain":"packeta","editorStyle":"file:../../../build/style-packeta-checkout-widget-block.css"}');(0,e.registerCheckoutBlock)({metadata:n,component:({children:o,checkoutExtensionData:n})=>{const[r,s]=(0,a.useState)(!1),{setExtensionData:l}=n,{setValidationErrors:d,clearValidationError:u}=(0,c.useDispatch)("wc/store/validation");(0,a.useEffect)((()=>{l("packeta","optin",r),r?u("packeta"):d({packeta:{message:"Please tick the box",hidden:!1}})}),[u,d,r,l]);const{validationError:p}=(0,c.useSelect)((e=>({validationError:e("wc/store/validation").getValidationError("packeta")})));return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e.CheckboxControl,{id:"subscribe-to-newsletter",checked:r,onChange:s},o||i),!1===p?.hidden&&(0,t.createElement)("div",null,(0,t.createElement)("span",{role:"img","aria-label":"Warning emoji"},"⚠️"),p?.message))}})})();