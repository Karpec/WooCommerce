(()=>{var e={942:(e,t)=>{var o;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=i(e,a(o)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)r.call(e,o)&&e[o]&&(t=i(t,o));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.wc.blocksCheckout,r=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"packeta/packeta-widget","version":"0.1.0","title":"Packeta Widget","category":"woocommerce","parent":["woocommerce/checkout-shipping-methods-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"icon":"cart","description":"Packeta Widget Block","textdomain":"packeta-widget","viewScript":"file:./index.js"}'),n=window.React,a=window.wp.blockEditor,i=window.wp.i18n;var c=o(942),l=o.n(c);const s=({buttonTranslationKey:e,hasError:t,logoSrc:o,message:r,onClick:a,show:c})=>c?(0,n.createElement)("div",{className:"packeta-widget"},(0,n.createElement)("div",{className:"packeta-widget__button"},(0,n.createElement)("img",{className:"packetery-widget__button-logo",src:o,alt:(0,i.__)("packeta-widget:packeta")}),(0,n.createElement)("button",{onClick:a},(0,i.__)(e))),(0,n.createElement)("p",{className:l()("packeta-widget__info",t&&"packeta-widget__info_error")},r)):null,p=window.wc.wcSettings;(0,e.registerBlockType)(r,{title:(0,i.__)("title","packeta-widget"),description:(0,i.__)("description","packeta-widget"),edit:()=>{const e=(0,a.useBlockProps)();return(0,n.createElement)("div",{...e},(0,n.createElement)(s,{show:!0,buttonTranslationKey:"example",logoSrc:"/wp-content/plugins/packeta/public/packeta-symbol.png",message:"Pickup Point Name"}))}}),(0,t.registerCheckoutBlock)({metadata:r,component:({cart:e})=>{const{shippingRates:t}=e,{carrierConfig:o}=(0,p.getSetting)("packeta-widget_data");if(console.log("initial",t),!t||0===t.length)return console.log("no shipping rates",e),null;const r=t[0].shipping_rates;return r&&0!==r.length?r.find((e=>{const t=e.rate_id.split(":").pop();return e.selected&&o[t]&&o[t].is_pickup_points}))?(console.log("rendered"),(0,n.createElement)("tr",{className:"packetery-widget-button-table-row"},(0,n.createElement)("th",null,(0,n.createElement)("img",{className:"packetery-widget-button-logo",src:"/wp-content/plugins/packeta/public/packeta-symbol.png",alt:"packeta",width:"100"})))):(console.log("no packeta shipping rate",r,o),null):(console.log("no available shipping rates"),null)}})})()})();